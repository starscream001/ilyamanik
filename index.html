<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Праздничное приглашение — день рождения 15 ноября</title>
  <meta name="description" content="Присоединяйся к празднованию моего дня рождения 15 ноября в 18:30. Запиши дату, отметься и загляни в раздел подарков." />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Иду на день рождения 15 ноября?" />
  <meta property="og:description" content="Празднуем в субботу 15 ноября в 18:30. Загляни внутрь: детали встречи и вдохновение для подарка." />
  <meta property="og:image" content="https://example.com/assets/images/birthday-invite-cover.jpg" />
  <meta property="og:url" content="https://example.com" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Праздничное приглашение — 15 ноября" />
  <meta name="twitter:description" content="Суббота, 15 ноября в 18:30. Место уточняется, но праздник точно будет!" />
  <meta name="twitter:image" content="https://example.com/assets/images/birthday-invite-cover.jpg" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg: #0f172a;
      --bg-alt: rgba(148, 163, 184, 0.08);
      --accent: #f97316;
      --accent-soft: rgba(249, 115, 22, 0.12);
      --accent-strong: #fb923c;
      --text: #e2e8f0;
      --text-muted: #94a3b8;
      --card-border: rgba(148, 163, 184, 0.25);
      --radius-lg: 28px;
      --radius-md: 18px;
      --shadow: 0 25px 50px -12px rgba(15, 23, 42, 0.6);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Manrope', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: radial-gradient(circle at top left, rgba(30, 64, 175, 0.35), transparent 55%),
                  radial-gradient(circle at bottom right, rgba(249, 115, 22, 0.25), transparent 45%),
                  var(--bg);
      color: var(--text);
      min-height: 100vh;
      line-height: 1.6;
      display: flex;
      flex-direction: column;
    }

    a {
      color: inherit;
    }

    header {
      max-width: 1080px;
      margin: 0 auto;
      padding: 32px 24px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      flex-wrap: wrap;
    }

    .logo {
      font-weight: 700;
      font-size: clamp(1.4rem, 1rem + 1vw, 2rem);
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .hero {
      max-width: 1080px;
      margin: 0 auto;
      padding: 20px 24px 54px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      align-items: start;
      gap: 40px;
    }

    .hero-copy h1 {
      margin: 0 0 16px;
      font-size: clamp(2.4rem, 1.4rem + 2.6vw, 3.6rem);
      font-weight: 700;
    }

    .hero-copy p {
      margin: 0 0 24px;
      color: var(--text-muted);
      font-size: 1.05rem;
    }

    .event-details {
      margin: 28px 0;
      padding: 24px;
      border-radius: var(--radius-lg);
      background: var(--bg-alt);
      border: 1px solid var(--card-border);
      display: grid;
      gap: 12px;
    }

    .event-details h2 {
      margin: 0;
      font-size: 1.25rem;
      color: var(--accent-strong);
    }

    .event-details ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: grid;
      gap: 10px;
    }

    .event-details li {
      display: grid;
      grid-template-columns: 120px 1fr;
      gap: 12px;
      align-items: start;
      font-size: 0.98rem;
    }

    .event-details span {
      color: var(--text-muted);
      font-weight: 600;
    }

    .card {
      padding: 32px;
      border-radius: var(--radius-lg);
      background: rgba(15, 23, 42, 0.75);
      border: 1px solid var(--card-border);
      box-shadow: var(--shadow);
      display: grid;
      gap: 20px;
    }

    .card h2 {
      margin: 0;
      font-size: 1.5rem;
    }

    .card p {
      margin: 0;
      color: var(--text-muted);
    }

    .tag {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: var(--accent-soft);
      color: var(--accent);
      padding: 6px 14px;
      border-radius: 999px;
      font-size: 0.85rem;
      font-weight: 600;
    }

    .cta {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .cta button {
      background: var(--accent);
      color: #0f172a;
      border: none;
      border-radius: 999px;
      padding: 12px 24px;
      font-weight: 600;
      font-size: 0.95rem;
      cursor: pointer;
      transition: transform 0.2s ease, background 0.2s ease;
    }

    .cta button:hover,
    .cta button:focus-visible {
      transform: translateY(-2px);
      background: var(--accent-strong);
    }

    .cta input {
      flex: 1 1 240px;
      min-width: 200px;
      background: rgba(15, 23, 42, 0.6);
      color: var(--text);
      border: 1px solid var(--card-border);
      border-radius: 999px;
      padding: 12px 18px;
      font-size: 0.95rem;
    }

    .rsvp-status {
      font-size: 0.9rem;
      color: var(--accent-strong);
    }

    .gift-grid {
      max-width: 1080px;
      margin: 0 auto 72px;
      padding: 0 24px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 28px;
    }

    .gift-card {
      background: var(--bg-alt);
      border: 1px solid var(--card-border);
      border-radius: var(--radius-md);
      padding: 24px;
      display: grid;
      gap: 12px;
    }

    .gift-card h3 {
      margin: 0;
      font-size: 1.2rem;
      color: var(--accent-strong);
    }

    .gift-card p {
      margin: 0;
      color: var(--text-muted);
      font-size: 0.95rem;
    }

    .gift-card strong {
      color: var(--text);
    }

    footer {
      margin-top: auto;
      padding: 40px 24px 32px;
      text-align: center;
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    @media (max-width: 520px) {
      .event-details li {
        grid-template-columns: 1fr;
      }

      header {
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">Let's Party!</div>
    <div class="tag">15 ноября · 18:30</div>
  </header>

  <section class="hero">
    <div class="hero-copy">
      <h1>Приглашаю тебя на свой день рождения!</h1>
      <p>
        Вечеринка запланирована на субботу, <strong>15 ноября в 18:30</strong>. Мы готовим много света, любимую музыку
        и традиционное торт-шоу. Главное — приходи с настроением праздновать.
      </p>
      <div class="event-details">
        <h2>Что важно знать</h2>
        <ul>
          <li><span>Дата и время</span><div>Суббота, 15 ноября, сбор гостей в 18:30 (начинаем вовремя).</div></li>
          <li><span>Локация</span><div>Место проведения уточняется — пришлю адрес отдельным сообщением, как только утвердим площадку.</div></li>
          <li><span>Дресс-код</span><div>Festive glow: всё, что блестит, сияет или просто радует тебя.</div></li>
        </ul>
      </div>
    </div>

    <aside class="card" aria-labelledby="rsvp-title">
      <span class="tag" id="rsvp-title">Отметься, пожалуйста</span>
      <h2>RSVP за минуту</h2>
      <p>
        Напиши, сможешь ли присоединиться, чтобы я успел подготовить угощения на всех. Имя нужно только для того, чтобы
        понять, кто именно ответил — ничего никуда не сохраняю.
      </p>
      <div class="cta">
        <input type="text" id="guest-name" name="guest-name" placeholder="Имя и фамилия" autocomplete="name" />
        <button data-rsvp="yes">Буду</button>
        <button data-rsvp="no" style="background: transparent; color: var(--text); border: 1px solid var(--card-border);">Не смогу</button>
      </div>
      <div class="rsvp-status" aria-live="polite"></div>
      <p style="font-size: 0.85rem; color: var(--text-muted);">
        Чтобы кнопки заработали, подставь данные Telegram-бота внизу файла (см. блок <code>&lt;script type="application/json" id="telegram-config"&gt;</code>).
      </p>
    </aside>
  </section>

  <section class="gift-grid" aria-labelledby="gift-title">
    <article class="gift-card">
      <h3 id="gift-title">Подарки? Сделаем остроумно</h3>
      <p>
        Есть китайская поговорка: <strong>«Красный конверт греет сердце сильнее любого чайника»</strong>. Если хочется
        поучаствовать в моём следующем приключении — буду рад любому вкладу в конверте (или переводе).
      </p>
      <p>
        Формат свободный: можешь принести конверт, поделиться переводом или подарить сертификат в любимый сервис.
        Главное — твоя забота и присутствие.
      </p>
    </article>

    <article class="gift-card">
      <h3>Ещё идеи</h3>
      <p><strong>Общее путешествие.</strong> Скинуться на будущий уикенд: чем больше нас в лодке, тем веселее маршрут.</p>
      <p><strong>Впечатления.</strong> Билеты на концерт, мастер-класс, дегустацию — всё, что добавит эмоций в копилку.</p>
      <p><strong>Символический сувенир.</strong> Если хочется что-то материальное — пусть это будет миниатюра, которую легко взять в следующий трип.</p>
    </article>

    <article class="gift-card">
      <h3>Не забудь написать</h3>
      <p>
        Если появятся вопросы или идеи, просто напиши мне в Telegram. Контакты можно указать там же, где будут данные
        для бота — я подгляну и отвечу.
      </p>
    </article>
  </section>

  <footer>
    С нетерпением жду встречи и тостов. До скорой субботы!
  </footer>

  <!-- Впиши реальные данные Telegram-бота ниже: замените значения в фигурных скобках -->
  <script type="application/json" id="telegram-config">
    {
      "botToken": "{{TELEGRAM_BOT_TOKEN}}",
      "chatId": "{{TELEGRAM_CHAT_ID}}",
      "threadId": "{{TELEGRAM_THREAD_ID | optional}}"
    }
  </script>
  <script>
    (function () {
      const configElement = document.getElementById('telegram-config');
      let config = {};

      if (configElement) {
        try {
          config = JSON.parse(configElement.textContent);
        } catch (error) {
          console.warn('Не удалось распарсить конфигурацию Telegram:', error);
        }
      }

      const buttons = document.querySelectorAll('[data-rsvp]');
      const status = document.querySelector('.rsvp-status');
      const nameInput = document.getElementById('guest-name');

      if (!buttons.length || !config.botToken || !config.chatId) {
        if (status) {
          status.textContent = 'Чтобы кнопки заработали, впиши токен и chat_id бота в блок конфигурации ниже.';
        }
        return;
      }

      const sendRSVP = async (response, guestName) => {
        const safeName = guestName.trim();
        const text = `RSVP: ${response === 'yes' ? 'приду' : 'не приду'}\nГость: ${safeName}\nВремя: ${new Date().toLocaleString('ru-RU')}`;
        const url = `https://api.telegram.org/bot${config.botToken}/sendMessage`;
        const payload = {
          chat_id: config.chatId,
          text,
        };

        if (config.threadId && config.threadId !== '{{TELEGRAM_THREAD_ID | optional}}') {
          payload.message_thread_id = config.threadId;
        }

        return fetch(url, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(payload),
        }).then((response) => {
          if (!response.ok) {
            throw new Error('Ошибка сети');
          }
          return response.json();
        });
      };

      buttons.forEach((button) => {
        button.addEventListener('click', async () => {
          const responseValue = button.dataset.rsvp;

          if (!nameInput || !nameInput.value.trim()) {
            if (status) {
              status.textContent = 'Пожалуйста, введи имя и фамилию, прежде чем отправлять ответ.';
            }
            if (nameInput) {
              nameInput.focus();
            }
            return;
          }

          buttons.forEach((btn) => {
            btn.disabled = true;
          });

          if (status) {
            status.textContent = 'Отправляю ответ…';
          }

          try {
            await sendRSVP(responseValue, nameInput.value);
            if (status) {
              status.textContent = responseValue === 'yes'
                ? `Ура! Записал, что ${nameInput.value.trim()} придёт — скоро пришлю место.`
                : `Записал, что ${nameInput.value.trim()} не получится прийти. Если планы изменятся — напиши мне!`;
            }
          } catch (error) {
            if (status) {
              status.textContent = 'Не получилось отправить ответ. Попробуй ещё раз или напиши мне напрямую.';
            }
            console.error(error);
          } finally {
            buttons.forEach((btn) => {
              btn.disabled = false;
            });
          }
        });
      });
    })();
  </script>
</body>
</html>
